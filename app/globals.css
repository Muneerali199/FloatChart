@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Modern Ocean-themed color palette */
  --ocean-deep: #0f172a;
  --ocean-medium: #1e293b;
  --ocean-light: #334155;
  --purple-deep: #4c1d95;
  --purple-medium: #7c3aed;
  --purple-light: #a855f7;
  --accent-blue: #3b82f6;
  --accent-cyan: #06b6d4;
  
  /* Light mode - Beautiful gradient theme */
  --background: 248 250 252;
  --foreground: 15 23 42;
  --card: 255 255 255;
  --card-foreground: 15 23 42;
  --popover: 255 255 255;
  --popover-foreground: 15 23 42;
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  --secondary: 241 245 249;
  --secondary-foreground: 15 23 42;
  --muted: 241 245 249;
  --muted-foreground: 100 116 139;
  --accent: 240 249 255;
  --accent-foreground: 3 105 161;
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  --border: 226 232 240;
  --input: 255 255 255;
  --ring: 59 130 246;
  --chart-1: 59 130 246;
  --chart-2: 6 182 212;
  --chart-3: 16 185 129;
  --chart-4: 139 92 246;
  --chart-5: 249 115 22;
  --radius: 0.75rem;
}

.dark {
  /* Professional dark mode - Rich gradient theme */
  --background: 15 23 42;
  --foreground: 248 250 252;
  --card: 30 41 59;
  --card-foreground: 248 250 252;
  --popover: 30 41 59;
  --popover-foreground: 248 250 252;
  --primary: 96 165 250;
  --primary-foreground: 15 23 42;
  --secondary: 51 65 85;
  --secondary-foreground: 248 250 252;
  --muted: 51 65 85;
  --muted-foreground: 148 163 184;
  --accent: 30 58 138;
  --accent-foreground: 191 219 254;
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  --border: 71 85 105;
  --input: 30 41 59;
  --ring: 96 165 250;
  --chart-1: 96 165 250;
  --chart-2: 34 211 238;
  --chart-3: 52 211 153;
  --chart-4: 167 139 250;
  --chart-5: 251 146 60;
}

@layer base {
  * {
    @apply border-border;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
  }
  
  html {
    transition: background-color 0.3s ease;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  .font-mono {
    font-family: var(--font-mono), ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
  }
}

@layer components {
  /* Theme-aware gradients */
  .ocean-gradient {
    background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 50%, #10b981 100%);
  }
  
  .dark .ocean-gradient {
    background: linear-gradient(135deg, #60a5fa 0%, #22d3ee 50%, #34d399 100%);
  }
  
  .card-gradient {
    background: linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--accent)) 100%);
  }
  
  .surface-glow {
    box-shadow: 0 0 40px hsl(var(--primary) / 0.15);
  }
  
  .depth-shadow {
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
  
  .dark .depth-shadow {
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }
  
  .glass-effect {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
  }
  
  .wave-animation {
    animation: wave 3s ease-in-out infinite;
  }
  
  /* Theme-aware confidence indicators */
  .confidence-high {
    @apply bg-emerald-500/10 text-emerald-600 border-emerald-500/20 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700;
  }
  
  .confidence-medium {
    @apply bg-muted text-foreground border-border dark:bg-muted dark:text-foreground dark:border-border;
  }
  
  .confidence-low {
    @apply bg-red-500/10 text-red-600 border-red-500/20 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700;
  }
  
  /* Theme-aware chat messages */
  .chat-message-user {
    @apply bg-primary text-primary-foreground ml-auto rounded-tr-sm shadow-lg;
  }
  
  .chat-message-assistant {
    @apply bg-muted text-muted-foreground mr-auto rounded-tl-sm border border-border/50;
  }
  
  .floating-element {
    animation: float 6s ease-in-out infinite;
  }
  
  .pulse-gentle {
    animation: pulse-gentle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  /* Enhanced interactive elements */
  .interactive-card {
    @apply bg-card border border-border rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 hover:border-primary/50 hover:-translate-y-0.5;
  }
  
  .nav-item {
    @apply relative overflow-hidden rounded-lg transition-all duration-300 hover:bg-primary/10 hover:scale-105 hover:text-primary;
  }
  
  .nav-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, hsl(var(--primary) / 0.2), transparent);
    transition: left 0.5s;
  }
  
  .nav-item:hover::before {
    left: 100%;
  }
  
  .nav-item[data-state="active"] {
    @apply bg-primary text-primary-foreground shadow-md;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@keyframes wave {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-10px) rotate(1deg); }
  66% { transform: translateY(5px) rotate(-1deg); }
}

@keyframes pulse-gentle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

/* Plotly.js custom styling */
.plotly .gtitle {
  font-family: var(--font-inter) !important;
}

.plotly .xtitle, .plotly .ytitle {
  font-family: var(--font-inter) !important;
  font-weight: 500 !important;
}

/* Leaflet map custom styling */
.leaflet-container {
  font-family: var(--font-inter) !important;
}

.leaflet-popup-content {
  font-family: var(--font-inter) !important;
}

/* Enhanced scrollbar styling */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--primary) / 0.4) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: hsl(var(--primary) / 0.4);
  border-radius: 3px;
  transition: background-color 0.2s ease;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--primary) / 0.6);
}

/* Enhanced focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background;
}

/* Beautiful card hover effects */
.card-hover {
  @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1 hover:shadow-primary/10;
}

/* Gradient text effect */
.gradient-text {
  background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Modern gradient backgrounds */
.gradient-bg {
  background: linear-gradient(to bottom, hsl(var(--background)), hsl(var(--muted)));
}

.dark .gradient-bg {
  background: linear-gradient(to bottom, hsl(var(--background)), hsl(var(--card)));
}

/* Force theme-aware colors for all components */
.bg-slate-900 {
  @apply bg-background !important;
}

.bg-slate-800 {
  @apply bg-card !important;
}

.bg-slate-700 {
  @apply bg-muted !important;
}

.bg-slate-600 {
  @apply bg-card !important;
}

.bg-slate-50 {
  @apply bg-background !important;
}

.bg-slate-100 {
  @apply bg-muted !important;
}

.bg-slate-200 {
  @apply bg-secondary !important;
}

.text-white {
  @apply text-foreground !important;
}

.text-slate-300 {
  @apply text-muted-foreground !important;
}

.text-slate-400 {
  @apply text-muted-foreground !important;
}

.text-slate-500 {
  @apply text-muted-foreground !important;
}

.text-slate-600 {
  @apply text-foreground !important;
}

.border-slate-700 {
  @apply border-border !important;
}

.border-slate-600 {
  @apply border-border !important;
}

.border-slate-500 {
  @apply border-border !important;
}

.border-slate-400 {
  @apply border-border !important;
}

.border-slate-300 {
  @apply border-border !important;
}

.border-slate-200 {
  @apply border-border !important;
}

/* Force all yellow/amber colors to theme-aware colors */
.bg-yellow-50,
.bg-yellow-100,
.bg-yellow-200,
.bg-yellow-300,
.bg-yellow-400,
.bg-yellow-500,
.bg-amber-50,
.bg-amber-100,
.bg-amber-200,
.bg-amber-300,
.bg-amber-400,
.bg-amber-500 {
  @apply bg-background !important;
}

.text-yellow-300,
.text-yellow-400,
.text-yellow-500,
.text-yellow-600,
.text-yellow-700,
.text-yellow-800,
.text-yellow-900,
.text-amber-300,
.text-amber-400,
.text-amber-500,
.text-amber-600,
.text-amber-700,
.text-amber-800,
.text-amber-900 {
  @apply text-foreground !important;
}

.border-yellow-200,
.border-yellow-300,
.border-yellow-400,
.border-yellow-500,
.border-amber-200,
.border-amber-300,
.border-amber-400,
.border-amber-500 {
  @apply border-border !important;
}

/* Ensure proper dark theme support */
.dark .bg-background {
  background-color: rgb(0 0 0) !important;
}

.dark .text-foreground {
  color: rgb(255 255 255) !important;
}

.dark .bg-card {
  background-color: rgb(0 0 0) !important;
}

.dark .text-card-foreground {
  color: rgb(255 255 255) !important;
}

/* Force orange colors to white in light mode */
.bg-orange-50,
.bg-orange-100,
.bg-orange-200 {
  @apply bg-background !important;
}

.text-orange-600,
.text-orange-700,
.text-orange-800 {
  @apply text-foreground !important;
}

.border-orange-300,
.border-orange-400 {
  @apply border-border !important;
}

/* Ensure maximum contrast for all text elements */
.text-gray-400,
.text-gray-500,
.text-gray-600 {
  @apply text-muted-foreground !important;
}

.text-blue-300,
.text-blue-400,
.text-green-300,
.text-green-400,
.text-purple-300,
.text-purple-400 {
  @apply text-foreground !important;
}

/* Force proper background colors */
.bg-gray-50,
.bg-gray-100,
.bg-blue-50,
.bg-green-50,
.bg-purple-50 {
  @apply bg-background !important;
}

/* Ensure borders are visible */
.border-gray-100,
.border-gray-200,
.border-blue-100,
.border-green-100 {
  @apply border-border !important;
}

/* Force all light text colors to be dark in light mode */
:root {
  --muted-foreground-override: 55 65 81; /* gray-700 */
}

.text-muted-foreground {
  color: rgb(var(--muted-foreground-override)) !important;
}

/* Ensure all text is visible in light mode */
body:not(.dark) .text-gray-400,
body:not(.dark) .text-gray-500,
body:not(.dark) .text-slate-400,
body:not(.dark) .text-slate-500 {
  color: rgb(55 65 81) !important; /* gray-700 */
}

/* Make sure all foreground text is black in light mode */
body:not(.dark) .text-foreground {
  color: rgb(0 0 0) !important;
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, hsl(var(--primary) / 0.1), transparent);
  animation: shimmer 2s infinite;
}